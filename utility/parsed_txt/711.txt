Question: Creating a Custom Search Engine (CSE) / Create a Search Box for Your Department
Article Text: Method A: To create a search that will display the results on the same page, use a Custom Search Engine (CSE). There are many options for a CSE. These instructions will get you started with a basic CSE. Login to http://www.google.com/cse/ with a gmail account Click on "New Search Engine" Fill out the form Enter a site URL to search. Enter a name for this search engine. Click on the "CREATE" button. To display the search form on your page: Click on "Look and feel". Select a template. Click on the "Save & Get Code" button. On the resulting page, click in the grey text box. The code will now be highlighted. Copy the code. Paste the code into your page. Method B: To create a search that will display the results on a new page with the UH template, use Google's University Search. Google has updated their CSE code. Please see https://developers.google.com/custom-search/docs/element for more information. If you'd like to include a search box that will only search within your department's pages, you might try including the form below. It uses Google's search engine, but limits the results to only matches within your department's directory or site. If you set this up and get no results, please contact us. Copy the below text to your page and replace "its" in the placeholder and hq input tag to the directory you want to search. <?php session_start(); $q = ''; if (isset($_SESSION['q'])) { $q = $_SESSION['q']; unset($_SESSION['q']); } $hq = ''; if (isset($_SESSION['hq'])) { $hq = $_SESSION['hq']; unset($_SESSION['hq']); } if (isset($_REQUEST['q'])) { $_SESSION['q'] = $_REQUEST['q']; $_SESSION['hq'] = $_REQUEST['hq']; header('Location: ?q=' . $_REQUEST['q'] . '%20' . $_REQUEST['hq']); exit; } // END check if q parameter passed // IMPORTANT: all of the above code must be before anything else. // Template or page content goes below ?> <form action=""> <input name="q" type="text" size="40" value="<?php echo $q; ?>" placeholder="Search /its" /> <input name="hq" type="hidden" value="inurl:its" /> <input type="submit" name="sa" value="Search" /> </form> <script> (function() { var cx = '008945998903415758105:4nrwh9-26ni'; var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true; gcse.src = 'https://cse.google.com/cse.js?cx=' + cx; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s); })(); </script> <gcse:searchresults-only></gcse:searchresults-only>
