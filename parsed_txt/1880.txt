Question: Virtual Server: How to Re-register Your ITS-Hosted Red Hat Linux Virtual 8 Server with Satellite
Article Text: OVERVIEW UH Information Technology Services (ITS) will be replacing the Katello content management service with Red Hat Satellite. All ITS-hosted Red Hat Enterprise Linux (RHEL) 8 virtual servers using the Katello service are required to re-register with the new Red Hat Satellite service. PROCEDURE To re-register your RHEL 8 virtual server with Satellite, do the following as either user root or using the "sudo" command: Enter the following commands one at a time in the order shown (each command is a single line, even if it displays as wrapped text due to the right margin of this page). subscription-manager repos --list-enabled subscription-manager unregister subscription-manager clean yum -y remove katello-ca-consumer-kat02.pvt.hawaii.edu.noarch curl http://satellite.pvt.hawaii.edu/pub/katello-ca-consumer-latest.noarch.rpm -o /var/tmp/katello-ca-consumer-latest.noarch.rpm yum install /var/tmp/katello-ca-consumer-latest.noarch.rpm subscription-manager register --force --org='UH-ITS' --activationkey='ak-UH,ak-CS-RHEL8' /usr/sbin/subscription-manager repos --disable "*" /usr/sbin/subscription-manager repos --enable rhel-8-for-x86_64-baseos-rpms --enable rhel-8-for-x86_64-appstream-rpms --enable UH-ITS_EPEL_8Server_x86_64 --enable UH-ITS_DuoSecurity_Duo_Redhat_8Server_x86_64 /usr/bin/yum clean all service rhsmcertd restart /bin/rm /var/tmp/katello-ca-consumer-latest.noarch.rpm Verify that "yum" sees all the new Satellite repositories you enabled in step 1 above by using the "yum repolist enabled" command. Example below shows repos highlighted that the server should have. yum repolist enabled Updating Subscription Management repositories. repo id repo name UH-ITS_DuoSecurity_Duo_Redhat_8Server_x86_64 Duo Redhat 8Server x86_64 UH-ITS_EPEL_8Server_x86_64 8Server x86_64 rhel-8-for-x86_64-appstream-rpms Red Hat Enterprise Linux 8 for x86_64 - AppStream (RPMs) rhel-8-for-x86_64-baseos-rpms Red Hat Enterprise Linux 8 for x86_64 - BaseOS (RPMs) Uploading Enabled Repositories Report (Optional) Run the following commands to verify the subscription is current and registered. The output should look like this (it should say 'Disabled'): subscription-manager status +-------------------------------------------+ System Status Details +-------------------------------------------+ Overall Status: Disabled Content Access Mode is set to Simple Content Access. This host has access to content, regardless of subscription status. System Purpose Status: Disabled Notify ITS Managed Services (e-mail itscs@hawaii.edu) when youâ€™re done re-registering your virtual server with Satellite, letting them know the hostname and IP of your virtual server.
